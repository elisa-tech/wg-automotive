digraph G {

node [shape=box width=1 height=0.5 fontname=arial fontsize=16 style=filled fillcolor=white]
graph [splines=ortho ranksep=1 nodesep=0.2 fontname=arial fontsize=16 compound=true]

vehicle [label="Vehicle" width=8]
cluster [label="Cluster App" width=3]
requester [label="Telltale requester" width=3]
handler [label="Request Handler" width=3]
render [label="Rendering (Qt)" width=4]
display [label="Display" width=7]
framebuffer [label="Framebuffer and Display Controller" width=4]
check [label="Telltale checking" width=3]
watchdog [label="Watchdog" width=2]

vehicle -> cluster [taillabel="\r\r\r Provide vehicle state  \r(CAN bus?)  \r" style=dashed color=red]
vehicle -> requester [taillabel="\rProvide Hazard State  \r(CAN bus?)  \r" style=dashed color=red]
requester -> handler [taillabel="\rSet telltale status  \r(CAN bus?)  \r"]
cluster -> render [taillabel="\rShow state  \r(IPC?)  \r" weight=2]
handler -> check [taillabel="\r  Set required  \r telltales  \r"]
handler -> render [taillabel="\rShow telltales  \r(IPC?)  \r"]
render -> framebuffer [taillabel="\rProvide  \rimage buffer(s)  \r"]
check -> display [dir=back taillabel="\r Displayed \nImage  \r" style=dashed color=red]
check -> watchdog [taillabel="\r\rPet  \r"]
watchdog -> display [taillabel="\rTurn\noff\nbacklight  \r"]
framebuffer -> display [taillabel="\rRender  \r Image  \r"]
}
